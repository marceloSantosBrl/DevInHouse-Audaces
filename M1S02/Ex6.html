<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>

    const calculadora = function (a, b, operacao) {
        let mensagem = "O resultado do seu cálculo é: ";
        switch (operacao) {
            case '+':
                alert(mensagem + (a + b));
                break;
            case "-":
                alert(mensagem + (a - b));
                break;
            case "*":
                alert(mensagem + (a * b));
                break;
            case  "/":
                if (Infinity === Math.abs(a / b)) {
                    alert("Divisão por zero");
                    return;
                }
                alert(mensagem + (a / b));
                break;
        }
    }

    const validarNumero = function (message) {
        while (true) {
            let stringEntrada = window.prompt(message);
            if (stringEntrada === "s") return "s";
            let numero = parseFloat(stringEntrada);
            if (!isNaN(numero) && isFinite(stringEntrada)) {
                return numero;
            } else {
                alert("Digite um número válido");
            }
        }
    }

    const validarOperacao = function (message) {
        while (true) {
            let stringEntrada = window.prompt(message);
            if (stringEntrada === "s") return "s";
            if (["+", "-", "*", "/"].includes(stringEntrada)) {
                return stringEntrada;
            } else {
                alert("Digite uma operação válida");
            }
        }
    }


    while (true) {
        let operacao = validarOperacao("Escolha uma operação ou digite s para sair");
        if (operacao === "s") break;
        let a = validarNumero("Digite o primeiro número ou digite s para sair");
        if (a === "s") break;
        let b = validarNumero("Digite o segundo número ou digite s para sair");
        if (b === "s") break;
        calculadora(a, b, operacao);
    }

</script>
</body>
</html>